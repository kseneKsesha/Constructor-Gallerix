<Window x:Class="Constructor_Gallerix.View.ConstructorView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="ConstructorView"
        Height="770" Width="1000"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        AllowsTransparency="True">

    <Window.Resources>
        <ResourceDictionary Source="/Resources/Styles.xaml"/>
    </Window.Resources>

    <Border CornerRadius="12">
        <Border.Background>
            <ImageBrush ImageSource="/Images/back-image.jpg" Stretch="Fill"/>
        </Border.Background>

        <Border CornerRadius="10" BorderThickness="3" Opacity="0.85">
            <Border.BorderBrush>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#462AD8" Offset="0"/>
                    <GradientStop Color="#DA34AE" Offset="0.75"/>
                    <GradientStop Color="#8A16C1" Offset="1"/>
                </LinearGradientBrush>
            </Border.BorderBrush>

            <Border.Background>
                <LinearGradientBrush StartPoint="0,1" EndPoint="1,0">
                    <GradientStop Color="#060531" Offset="0"/>
                    <GradientStop Color="#1B1448" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Панель управления окном -->
                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="GALLERIX"
                               Margin="10,0,0,0"
                               VerticalAlignment="Center"
                               FontSize="12"
                               FontFamily="Montserrat"
                               Foreground="{StaticResource WhiteBrush}"/>

                    <StackPanel Grid.Column="1"
                                Orientation="Horizontal"
                                VerticalAlignment="Center"
                                Margin="0,0,10,0">
                        <Button x:Name="btnMinimize"
                                Content="-"
                                Style="{StaticResource MinimizeButtonStyle}"
                                Click="btnMinimize_Click"/>

                        <Button x:Name="btnClose"
                                Content="X"
                                Style="{StaticResource CloseButtonStyle}"
                                Margin="5,0,0,0"
                                Click="btnClose_Click"/>
                    </StackPanel>
                </Grid>

                <!-- Меню -->
                <Border Grid.Row="1" Background="{StaticResource PrimaryColorBrush}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock x:Name="txtUsername"
                                   Text="Username"
                                   Margin="20,0,0,0"
                                   VerticalAlignment="Center"
                                   FontSize="14"
                                   FontWeight="Bold"
                                   FontFamily="Montserrat"
                                   Foreground="{StaticResource WhiteBrush}"/>

                        <StackPanel Grid.Column="1"
                                    Orientation="Horizontal"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center">
                            <Button x:Name="btnHome"
                                    Content="Главная"
                                    Style="{StaticResource MenuButtonStyle}"
                                    Click="HomeButton_Click"
                                    Margin="10,0"
                                    Foreground="White"/>

                            <Button x:Name="btnConstructor"
                                    Content="Конструктор"
                                    Style="{StaticResource ActiveMenuButtonStyle}"
                                    IsEnabled="False"
                                    Margin="10,0"
                                    Foreground="White"/>

                            <Button x:Name="btnMyWorks"
                                    Content="Мои работы"
                                    Style="{StaticResource MenuButtonStyle}"
                                    Click="MyWorksButton_Click"
                                    Margin="10,0"
                                    Foreground="White"/>

                            <Button x:Name="btnDemo"
                                    Content="Демонстрация"
                                    Style="{StaticResource MenuButtonStyle}"
                                    Click="DemoButton_Click"
                                    Margin="10,0"
                                    Foreground="White"/>

                            <!-- Вместо "Exit" теперь "Справка" -->
                            <Button x:Name="btnHelp"
                                    Content="Справка"
                                    Style="{StaticResource MenuButtonStyle}"
                                    Click="HelpButton_Click"
                                    Margin="10,0"
                                    Foreground="White"/>
                        </StackPanel>
                        <!-- Кнопка "Профиль" -->
                        <Button Grid.Column="2"
                                Content="Профиль"
                                Width="120"
                                Height="35"
                                Margin="0,0,25,0"
                                Style="{StaticResource SecondaryButtonStyle}"
                                Click="ProfileButton_Click"/>
                    </Grid>
                </Border>

                <!-- Основной контент -->
                <Grid Grid.Row="2">
                    <!-- Шаг 1: Основная информация -->
                    <Grid x:Name="Step1Grid" Visibility="Visible">
                        <ScrollViewer>
                            <StackPanel Margin="50" HorizontalAlignment="Center" VerticalAlignment="Top" Width="600">
                                <!-- Обложка -->
                                <TextBlock Text="Обложка галереи" 
                                           Foreground="White" 
                                           FontSize="20" 
                                           Margin="5"
                                           FontFamily="Montserrat"/>
                                <Border Style="{StaticResource ImageUploadPlaceholderStyle}"
                                        HorizontalAlignment="Center"
                                        MouseDown="CoverUpload_Click">
                                    <Grid>
                                        <Image x:Name="imgCover"
                                               Stretch="UniformToFill"
                                               Visibility="Collapsed"
                                               Width="200"
                                               Height="200">
                                            <Image.Clip>
                                                <RectangleGeometry Rect="0,0,200,200" RadiusX="10" RadiusY="10"/>
                                            </Image.Clip>
                                        </Image>
                                        <TextBlock x:Name="txtAddCover"
                                                   Text="+" FontSize="50" Foreground="White"
                                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Grid>
                                </Border>

                                <!-- Название -->
                                <TextBlock Text="Название галереи" 
                                           Foreground="White" 
                                           Margin="5,20,0,0"
                                           FontFamily="Montserrat"/>
                                <TextBox x:Name="txtGalleryName" 
                                         Style="{StaticResource InputFieldStyle}"/>

                                <!-- Автор -->
                                <TextBlock Text="Автор" 
                                           Foreground="White"  
                                           Margin="5,15,0,0"
                                           FontFamily="Montserrat"/>
                                <TextBox x:Name="txtAuthor" 
                                         Style="{StaticResource InputFieldStyle}" 
                                         IsReadOnly="True"/>

                                <!-- Дата -->
                                <TextBlock Text="Дата создания" 
                                           Foreground="White" 
                                           Margin="5,15,0,0"
                                           FontFamily="Montserrat"/>
                                <TextBox x:Name="txtCreationDate" 
                                         Style="{StaticResource InputFieldStyle}" 
                                         IsReadOnly="True"/>

                                <!-- Описание -->
                                <TextBlock Text="Описание" 
                                           Foreground="White" 
                                           Margin="5,15,0,0"
                                           FontFamily="Montserrat"/>
                                <TextBox x:Name="txtDescription" 
                                         Style="{StaticResource InputFieldStyle}" 
                                         AcceptsReturn="True"
                                         TextWrapping="Wrap" 
                                         Height="80"/>

                                <!-- Кнопки перехода -->
                                <StackPanel Orientation="Horizontal" 
                                            HorizontalAlignment="Center" 
                                            Margin="0,30,0,0">
                                    <Button x:Name="btnPrevious" 
                                            Content="← Назад"
                                            Style="{StaticResource SecondaryButtonStyle}"
                                            IsEnabled="False"
                                            Width="120"
                                            Margin="10"/>
                                    <Button x:Name="btnNext" 
                                            Content="Далее →"
                                            Style="{StaticResource PrimaryButtonStyle}"
                                            Width="120"
                                            Margin="10"
                                            Click="btnNext_Click"/>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>

                    <!-- Шаг 2: Выбор шаблона -->
                    <Grid x:Name="Step2Grid" Visibility="Collapsed">
                        <ScrollViewer>
                            <StackPanel Margin="50" HorizontalAlignment="Center" VerticalAlignment="Top" Width="600">
                                <TextBlock Text="Выберите стиль отображения" 
                                           Foreground="White" 
                                           FontSize="20" 
                                           HorizontalAlignment="Center" 
                                           Margin="0,0,0,30"
                                           FontFamily="Montserrat"/>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <!-- Шаблон 1: Классическая сетка -->
                                    <Border x:Name="Template1Border" Grid.Row="0" Grid.Column="0" Margin="10"
                                            CornerRadius="8" BorderThickness="2" BorderBrush="Transparent" Background="Transparent">
                                        <Button x:Name="Template1" Style="{StaticResource TransparentButtonStyle}" Tag="ClassicGrid" Click="TemplateButton_Click">
                                            <StackPanel>
                                                <Border Width="180" Height="120" CornerRadius="5" Background="#462AD8" Margin="0,10">
                                                    <Grid>
                                                        <Image Source="pack://application:,,,/Images/classic-grid-icon.png" 
                                                               Width="80" Height="80"
                                                               Stretch="Uniform"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"/>
                                                    </Grid>
                                                </Border>
                                                <TextBlock Text="Классическая сетка" HorizontalAlignment="Center" Margin="0,10,0,10"
                                                           FontSize="14" FontFamily="Montserrat" Foreground="White"/>
                                            </StackPanel>
                                        </Button>
                                    </Border>

                                    <!-- Шаблон 2: Карусель -->
                                    <Border x:Name="Template2Border" Grid.Row="0" Grid.Column="1" Margin="10"
                                            CornerRadius="8" BorderThickness="2" BorderBrush="Transparent" Background="Transparent">
                                        <Button x:Name="Template2" Style="{StaticResource TransparentButtonStyle}" Tag="Carousel" Click="TemplateButton_Click">
                                            <StackPanel>
                                                <Border Width="180" Height="120" CornerRadius="5" Background="#DA34AE" Margin="0,10">
                                                    <Grid>
                                                        <Image Source="pack://application:,,,/Images/carousel-icon.png" 
                                                               Width="80" Height="80"
                                                               Stretch="Uniform"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"/>
                                                    </Grid>
                                                </Border>
                                                <TextBlock Text="Карусель" HorizontalAlignment="Center" Margin="0,10,0,10"
                                                           FontSize="14" FontFamily="Montserrat" Foreground="White"/>
                                            </StackPanel>
                                        </Button>
                                    </Border>

                                    <!-- Шаблон 3: Мозаика -->
                                    <Border x:Name="Template3Border" Grid.Row="1" Grid.Column="0" Margin="10"
                                            CornerRadius="8" BorderThickness="2" BorderBrush="Transparent" Background="Transparent">
                                        <Button x:Name="Template3" Style="{StaticResource TransparentButtonStyle}" Tag="Mosaic" Click="TemplateButton_Click">
                                            <StackPanel>
                                                <Border Width="180" Height="120" CornerRadius="5" Background="#28AEED" Margin="0,10">
                                                    <Grid>
                                                        <Image Source="pack://application:,,,/Images/mosaic-icon.png" 
                                                               Width="80" Height="80"
                                                               Stretch="Uniform"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"/>
                                                    </Grid>
                                                </Border>
                                                <TextBlock Text="Мозаика" HorizontalAlignment="Center" Margin="0,10,0,10"
                                                           FontSize="14" FontFamily="Montserrat" Foreground="White"/>
                                            </StackPanel>
                                        </Button>
                                    </Border>

                                    <!-- Шаблон 4: Полноэкранный слайдер -->
                                    <Border x:Name="Template4Border" Grid.Row="1" Grid.Column="1" Margin="10"
                                            CornerRadius="8" BorderThickness="2" BorderBrush="Transparent" Background="Transparent">
                                        <Button x:Name="Template4" Style="{StaticResource TransparentButtonStyle}" Tag="FullscreenSlider" Click="TemplateButton_Click">
                                            <StackPanel>
                                                <Border Width="180" Height="120" CornerRadius="5" Background="#8A16C1" Margin="0,10">
                                                    <Grid>
                                                        <Image Source="pack://application:,,,/Images/fullscreen-icon.png" 
                                                               Width="80" Height="80"
                                                               Stretch="Uniform"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"/>
                                                    </Grid>
                                                </Border>
                                                <TextBlock Text="Полноэкранный слайдер" HorizontalAlignment="Center" Margin="0,10,0,10"
                                                           FontSize="14" TextWrapping="Wrap" TextAlignment="Center"
                                                           FontFamily="Montserrat" Foreground="White"/>
                                            </StackPanel>
                                        </Button>
                                    </Border>
                                </Grid>

                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,30,0,0">
                                    <Button x:Name="btnPreviousStep2" Content="← Назад"
                                            Style="{StaticResource SecondaryButtonStyle}"
                                            Width="120" Margin="10" Click="btnPrevious_Click"/>
                                    <Button x:Name="btnNextStep2" Content="Далее →"
                                            Style="{StaticResource PrimaryButtonStyle}"
                                            Width="120" Margin="10" Click="btnNext_Click"/>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>

                    <!-- Шаг 3: добавление картин -->
                    <Grid x:Name="Step3Grid" Visibility="Collapsed" Background="#1A1A2E">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!-- Левая сторона: форма добавления -->
                        <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto" Margin="30,20">
                            <StackPanel>
                                <!-- Заголовок -->
                                <TextBlock Text="Добавление картины" 
                                           FontSize="24" 
                                           FontWeight="Bold" 
                                           Foreground="#E6E6FA"
                                           Margin="0,0,0,25"/>

                                <!-- Блок загрузки изображения -->
                                <StackPanel Margin="0,0,0,20">
                                    <TextBlock Text="Изображение картины*"
                                               Foreground="#E6E6FA"
                                               Margin="0,0,0,5"/>

                                    <Button x:Name="btnSelectPicture"
                                            Click="UploadPicture_Click"
                                            Width="120"
                                            Height="120"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            Padding="0"
                                            FocusVisualStyle="{x:Null}">
                                        <Border Width="120"
                                                Height="120"
                                                CornerRadius="12"
                                                BorderBrush="White"
                                                BorderThickness="3"
                                                Background="#2A2A4D"
                                                ClipToBounds="True"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                            <Grid>
                                                <Image x:Name="imgPreview"
                                                       Width="120"
                                                       Height="120"
                                                       Stretch="UniformToFill"
                                                       Visibility="Collapsed"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center">
                                                    <Image.Clip>
                                                        <RectangleGeometry Rect="0,0,120,120" RadiusX="12" RadiusY="12"/>
                                                    </Image.Clip>
                                                </Image>
                                                <TextBlock Text="+" 
                                                           FontSize="36" 
                                                           Foreground="White"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Center"/>
                                            </Grid>
                                        </Border>
                                    </Button>
                                </StackPanel>

                                <!-- Поля ввода информации о картине -->
                                <StackPanel>
                                    <!-- Название -->
                                    <TextBlock Text="Название картины*" 
                                               Foreground="#E6E6FA" 
                                               Margin="0,0,0,5"/>
                                    <TextBox x:Name="txtPictureTitle" 
                                             Style="{StaticResource InputFieldStyle}" 
                                             Margin="0,0,0,15"/>

                                    <!-- Автор -->
                                    <TextBlock Text="Автор*" 
                                               Foreground="#E6E6FA" 
                                               Margin="0,0,0,5"/>
                                    <TextBox x:Name="txtPictureAuthor" 
                                             Style="{StaticResource InputFieldStyle}" 
                                             Margin="0,0,0,15"/>

                                    <!-- Год создания -->
                                    <TextBlock Text="Год создания*" 
                                               Foreground="#E6E6FA" 
                                               Margin="0,0,0,5"/>
                                    <TextBox x:Name="txtPictureYear" 
                                             Style="{StaticResource InputFieldStyle}" 
                                             Margin="0,0,0,15"
                                             PreviewTextInput="TxtPictureYear_PreviewTextInput"/>

                                    <!-- Описание -->
                                    <TextBlock Text="Описание" 
                                               Foreground="#E6E6FA" 
                                               Margin="0,0,0,5"/>
                                    <TextBox x:Name="txtPictureDescription" 
                                             Style="{StaticResource InputFieldStyle}" 
                                             Height="80" 
                                             Margin="0,0,0,15"
                                             TextWrapping="Wrap"
                                             AcceptsReturn="True"/>

                                    <!-- Комментарий эксперта -->
                                    <TextBlock Text="Комментарий эксперта" 
                                               Foreground="#E6E6FA" 
                                               Margin="0,0,0,5"/>
                                    <TextBox x:Name="txtExpertComment" 
                                             Style="{StaticResource InputFieldStyle}" 
                                             Height="80" 
                                             Margin="0,0,0,25"
                                             TextWrapping="Wrap"
                                             AcceptsReturn="True"/>
                                </StackPanel>

                                <!-- Кнопка добавления -->
                                <Button Content="Добавить картину" 
                                        Click="AddSinglePicture_Click" 
                                        Style="{StaticResource PrimaryButtonStyle}"
                                        Width="200"
                                        Height="40"/>
                            </StackPanel>
                        </ScrollViewer>

                        <!-- Правая сторона: галерея -->
                        <Border Grid.Column="1" Margin="15" Background="#16213E" CornerRadius="25">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Галерея" FontSize="18" FontWeight="Bold" Foreground="#E6E6FA" Margin="15,15,15,10"/>

                                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Padding="0,0,5,0">
                                    <ItemsControl ItemsSource="{Binding Pictures}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border Background="#0F3460" CornerRadius="8" Margin="10,5" BorderBrush="#3D56B2" BorderThickness="1">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="100"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="40"/>
                                                        </Grid.ColumnDefinitions>
                                                        <!-- Картинка с скруглёнными краями -->
                                                        <Border Width="80"
                                                                Height="80"
                                                                CornerRadius="20"
                                                                Background="#2A2A4D"
                                                                Margin="10"
                                                                ClipToBounds="True">
                                                            <Image Source="{Binding Image}"
                                                                   Width="80"
                                                                   Height="80"
                                                                   Stretch="UniformToFill"
                                                                   HorizontalAlignment="Center"
                                                                   VerticalAlignment="Center">
                                                                <Image.Clip>
                                                                    <RectangleGeometry Rect="0,0,80,80" RadiusX="10" RadiusY="10"/>
                                                                </Image.Clip>
                                                            </Image>
                                                        </Border>

                                                        <StackPanel Grid.Column="1" Margin="5" VerticalAlignment="Center">
                                                            <TextBlock Text="{Binding Title}" FontWeight="Bold" Foreground="White" TextWrapping="Wrap"/>
                                                            <TextBlock Text="{Binding Author}" Foreground="#E6E6FA" FontSize="12"/>
                                                            <TextBlock Text="{Binding Year}" Foreground="#AAAAAA" FontSize="12"/>
                                                        </StackPanel>

                                                        <Button Grid.Column="2"
                                                                Click="RemoveImage_Click"
                                                                Style="{StaticResource RemoveButtonStyle}"
                                                                Tag="{Binding Id}"
                                                                Width="30" Height="30"
                                                                Margin="0,0,5,0"
                                                                ToolTip="Удалить картину">
                                                            <Path Data="M0,0 L1,1 M0,1 L1,0" 
                                                                  Stroke="White" 
                                                                  StrokeThickness="2"
                                                                  Stretch="Uniform"
                                                                  HorizontalAlignment="Center"
                                                                  VerticalAlignment="Center"/>
                                                        </Button>
                                                    </Grid>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </ScrollViewer>
                            </Grid>
                        </Border>

                        <!-- Навигация -->
                        <Grid Grid.ColumnSpan="2" VerticalAlignment="Bottom" Margin="20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Button Content="Назад" 
                                    Click="btnPrevious_Click" 
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Width="120"
                                    HorizontalAlignment="Left"/>

                            <Button Content="Далее" 
                                    Click="btnNext_Click" 
                                    Style="{StaticResource PrimaryButtonStyle}"
                                    Width="120"
                                    HorizontalAlignment="Right"
                                    Grid.Column="1"/>
                        </Grid>
                    </Grid>

                    <!-- Шаг 4: Предпросмотр -->
                    <Grid x:Name="Step4Grid" Visibility="Collapsed">
                        <ScrollViewer>
                            <StackPanel Margin="50" HorizontalAlignment="Center" VerticalAlignment="Top" Width="600">
                                <TextBlock Text="Финальный просмотр" 
                                           Foreground="White" 
                                           FontSize="20" 
                                           Margin="5,0,0,20"
                                           FontFamily="Montserrat"/>

                                <Border Width="200"
                                        Height="200"
                                        CornerRadius="10"
                                        BorderBrush="Gray"
                                        BorderThickness="1"
                                        Background="#2A2A4D"
                                        HorizontalAlignment="Center"
                                        Margin="0,0,0,20">
                                    <Image x:Name="previewCoverImage"
                                           Stretch="UniformToFill"
                                           Width="200"
                                           Height="200">
                                        <Image.Clip>
                                            <RectangleGeometry Rect="0,0,200,200" RadiusX="10" RadiusY="10"/>
                                        </Image.Clip>
                                    </Image>
                                </Border>

                                <Border Background="#22000000" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                    <StackPanel>
                                        <TextBlock x:Name="previewGalleryName"
                                                   Text="Название галереи"
                                                   FontWeight="Bold"
                                                   Foreground="White"
                                                   FontSize="16"
                                                   Margin="0,0,0,10"
                                                   FontFamily="Montserrat"/>
                                        <TextBlock Text="Автор:"
                                                   Foreground="White"
                                                   FontSize="14"
                                                   Margin="0,0,0,5"
                                                   FontFamily="Montserrat"/>
                                        <TextBlock x:Name="previewAuthor"
                                                   Text="Имя автора"
                                                   Foreground="White"
                                                   FontSize="14"
                                                   Margin="0,0,0,10"
                                                   FontFamily="Montserrat"/>
                                        <TextBlock Text="Дата создания:"
                                                   Foreground="White"
                                                   FontSize="14"
                                                   Margin="0,0,0,5"
                                                   FontFamily="Montserrat"/>
                                        <TextBlock x:Name="previewCreationDate"
                                                   Text="01.01.2023"
                                                   Foreground="White"
                                                   FontSize="14"
                                                   Margin="0,0,0,10"
                                                   FontFamily="Montserrat"/>
                                        <TextBlock Text="Описание:"
                                                   Foreground="White"
                                                   FontSize="14"
                                                   Margin="0,0,0,5"
                                                   FontFamily="Montserrat"/>
                                        <TextBlock x:Name="previewDescription"
                                                   Text="Описание галереи"
                                                   Foreground="White"
                                                   FontSize="14"
                                                   TextWrapping="Wrap"
                                                   FontFamily="Montserrat"/>
                                    </StackPanel>
                                </Border>

                                <TextBlock Text="Выбранный шаблон:" 
                                           Foreground="White" 
                                           Margin="5,0,0,10"
                                           FontFamily="Montserrat"/>
                                <TextBlock x:Name="previewTemplate"
                                           Text="{Binding SelectedTemplateDisplayName}" 
                                           Foreground="White"
                                           FontSize="14"
                                           Margin="0,0,0,20"
                                           FontFamily="Montserrat"/>

                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                                    <Button Content="← Назад"
                                            Style="{StaticResource SecondaryButtonStyle}"
                                            Width="120"
                                            Margin="10"
                                            Click="btnPrevious_Click"/>
                                    <Button Content="Просмотр"
                                            Style="{StaticResource SecondaryButtonStyle}"
                                            Width="120"
                                            Margin="10"
                                            Click="PreviewResult_Click"/>
                                    <Button Content="Сохранить"
                                            Style="{StaticResource PrimaryButtonStyle}"
                                            Width="120"
                                            Margin="10"
                                            Click="SaveGallery_Click"/>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </Grid>
            </Grid>
        </Border>
    </Border>
</Window>
